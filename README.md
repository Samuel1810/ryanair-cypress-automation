# Ryanair â€” Cypress E2E Automation Tests (Lisbon â†’ Madrid)

This repository showcases a **focused End-to-End automation suite** built with [Cypress](https://www.cypress.io/)
to validate a real-world airline booking flow on the [Ryanair](https://www.ryanair.com/pt/pt) website.

> **SUT:** Ryanair website  
> **Scope:** 1 core E2E flow (minimal suite)  
> **Route:** **Lisbon â†’ Madrid** (fixed by design)

---

## Why this project exists
This project exists to demonstrate my QA automation approach on a **highly dynamic real-world UI** (availability, date pickers, consent banners, upsells).
Instead of aiming for broad regression coverage, the goal is to showcase **risk-based scope**, **pragmatic automation decisions**, and **reproducibility**.

## What this project proves
- **Real-world E2E testing:** handles dynamic booking steps (dates, availability, upsells, multi-step flow).
- **Risk-based scope:** a minimal suite focused on a high-value journey rather than test quantity.
- **Stability mindset:** decisions are made to reduce flakiness and keep the suite maintainable.
- **Evidence-driven QA:** coverage is mapped to risks and linked to the automated spec.

> ðŸ“Œ **Coverage Map:** see [`docs/coverage/coverage-map.md`](docs/coverage/coverage-map.md)

## Out of scope (intentional)
To keep the suite focused and realistic, the following were intentionally left out:
- Full regression of all booking variants (multi-city, complex passenger combinations, special fares).
- Payment completion (often unstable / not ideal for demo automation and may introduce sensitive steps).
- Cross-browser and mobile testing.
- Performance, security, and accessibility testing.
- Extensive exploratory sessions (typically executed manually).

These areas could be explored in a different test initiative depending on project goals.

---

## System under test
- **Website:** Ryanair booking flow
- **Route:** **Lisbon â†’ Madrid** (fixed)
- **Why fixed route?** This portfolio project intentionally uses a fixed route to keep scope controlled and allow focus on stability and decision-making.

---

## Test strategy (short)
- **Primary level:** UI E2E (Cypress)
- **Approach:** Validate one complete â€œhappy pathâ€ booking journey up to a stable checkpoint (before sensitive or highly unstable steps).
- **Stability principles:**
  - Prefer robust assertions and clear step boundaries.
  - Keep suite minimal to reduce maintenance cost on a frequently changing UI.
  - Treat flight availability and UI changes as expected external variability.

---

## Implemented scenarios
### âœ… Positive
- **TC001 â€” Successful booking flow (Lisbon â†’ Madrid)**
  - Search flights â†’ select departure/return â†’ choose fare â†’ continue as guest â†’ fill passenger details â†’ handle seats/bags/extras â†’ reach login request checkpoint.

> Note: The suite intentionally contains **one core flow** to stay focused and maintainable.

---

## Date handling (important)
This E2E flow depends on **flight availability**, so travel dates must be valid.

### Default behavior (dynamic dates)
By default, the test generates **future dates dynamically** using a small utility
(`getISODatePlusDays`) to reduce the risk of unavailable flights over time.

- Departure date: today + 30 days
- Return date: today + 37 days

This approach helps keep the test executable without requiring frequent code changes.

### Override for stable runs (recommended)
Dates can be explicitly overridden using `cypress.env.json`
(format: `YYYY-MM-DD`).

Example:
```json
{
  "departureDate": "2026-06-24",
  "returnDate": "2026-07-23"
}

> If the test fails due to flight availability, adjusting the dates is usually sufficient.

---

## Local configuration (recommended)

Create a `cypress.env.json` file at the project root (see `cypress.env.example.json`).

Example:

```json
{
  "departureDate": "2026-06-24",
  "returnDate": "2026-07-23"
}
```

âœ… `cypress.env.json` is intentionally ignored by Git to avoid committing machine-specific configuration.

---

## Evidence

* Automated spec(s): `cypress/e2e/purchase/TC001-successful-purchase.cy.js`
* Videos/screenshots: generated by Cypress (if enabled in config)

---

## Requirements

* **Node.js** (LTS recommended)
* **Cypress**

---

## Project structure

```text
cypress/
â”œâ”€ e2e/
â”‚  â””â”€ purchase/
â”‚     â””â”€ TC001-successful-purchase.cy.js
â”œâ”€ pages/
â”‚  â”œâ”€ HomePage.js
â”‚  â”œâ”€ BookingDetails.js
â”‚  â”œâ”€ FlightsPage.js
â”‚  â”œâ”€ SeatsPage.js
â”‚  â””â”€ BagsPage.js
â””â”€ support/
   â”œâ”€ commands.js
   â”œâ”€ dateUtils.js
   â””â”€ e2e.js

docs/
â””â”€ coverage/
   â””â”€ coverage-map.md

cypress.config.js
cypress.env.example.json
package.json
```

---

## How to run

### 1. Clone the repository

```bash
git clone https://github.com/Samuel1810/ryanair-cypress-automation.git
cd ryanair-cypress-automation
```

### 2. Install dependencies

```bash
npm ci
```

> `npm ci` is recommended to ensure a clean and reproducible install.

### 3. Create local env file

Create `cypress.env.json` (see `cypress.env.example.json`).

### 4. Run in interactive mode

```bash
npx cypress open
```

### 5. Run headless

```bash
npx cypress run
```

### Run a single spec

```bash
npx cypress run --spec "cypress/e2e/purchase/TC001-successful-purchase.cy.js"
```

### NPM Scripts (optional)

```json
{
  "scripts": {
    "cy:open": "cypress open",
    "cy:run": "cypress run"
  }
}
```

---

## Known limitations (expected for real-world UIs)

* The Ryanair UI can change frequently (A/B tests, popups, dynamic availability), which may occasionally affect selectors or flow timing.
* Flight availability is not controlled by the test suite; dates may need adjustment.
* The intent of this repository is to demonstrate **QA decision-making and trade-offs** rather than full regression coverage.
